---
title: Расширения и настройки Emacs на каждый день
description: >
       Рекомендую то, что использую сам. Претензии принимаются!
created: !!timestamp '2013-09-24 23:50:00'
tags:
    - linux
    - emacs
---

{% mark image -%}

![GNU Emacs learning curves]([[!!images/emacs_learning_curves.png]])

{%- endmark %}

{% mark excerpt -%}

Emacs славится своей настраиваемостью и расширяемостью (и не только ими, конечно же). Однако для начинающего пользователя такое обилие настроек и дополнений может сильно напугать (меня напугало настолько, что я отложил изучение Emacs на пару лет!). Я попытаюсь кратко рассказать о настройках и дополнениях, которые делают моменты работы в Emacs ещё более счастливыми. 

{%- endmark %}


Сразу же открываю тайну! (Слово о репозитории расширений)
========================================

В свежих версиях Emacs (начиная с версии 24) имеется менеджер пакетов.

Самый настоящий.

В данной статье я буду пользоваться именно им для установки большинства расширений. Ничего, однако, не мешает вам установить данные расширения вручную, если у вас нет доверий к мейнтейнерам репозиториев с расширениями для Emacs.

Лично я предпочитаю использовать репозиторий [MELPA](http://melpa.milkbox.net). На сайте репозитория имеется веб-интерфейс для просмотра имеющихся расширений и их версий. Также можно посмотреть источник исходного кода расширения.

Чтобы добавить репозиторий, нужно открыть _.emacs_ и добавить туда следующие строки:

<pre><code class="no-highlight">(add-to-list 'package-archives<br>
  '("melpa" . "http://melpa.milkbox.net/packages/") t)</code></pre>

Здесь нужно обратить внимание на то, что если в _.emacs_ уже присутствует строка:

<pre><code class="no-highlight">(package-initialize)</code></pre>

то указание на добавление нового репозитория должно идти до этой строки. Если такой строки в файле .emacs нет, то её лучше добавить. 

Инициализацию пакетного менеджера можно выполнить и вручную. Для этого после запуска Emacs нужно выполнить:

<pre><code class="no-highlight">M-x package-initialize</code></pre> 

Итак, репозиторий расширений для Emacs добавлен и пакетный менеджер инициализирован. 

Не будем спешно запускать Emacs и торопливо устанавливать расширения. Сначала я представлю Вашему вниманию еще несколько настроек, которые можно добавить в файл инициализации .emacs. 

Разнообразные настройки Emacs, собранные с миру по нитке.
=====================================

Открываем файл .emacs любимым редактором и, по желанию, добавляем туда следующие настройки:

* Отключаем противный писк при ошибочных действиях в Emacs. Данная настройка вместо писка мигает стракой статуса.
<pre><code class="no-highlight">(setq visible-bell t)</code></pre> 

* Настройка шрифта. Я предпочитаю Terminus
<pre><code class="no-highlight">(set-face-attribute 'default nil :font "Terminus-12")</code></pre> 

* Отключение панели инструментов, панели меню и области прокрутки. Тру-емаксерам они не нужны, занимают много места не экране. После первичного освоения Emacs их можно смело отключить.
<pre><code class="no-highlight">(tool-bar-mode -1)</br>
(menu-bar-mode -1)</br>
(scroll-bar-mode -1)</code></pre> 

* Переносим backup-файлы в другое место. Это делается строго по желанию и с осторожностью. Цель - чтобы создаваемые временные файлы Emacs не мешались в каталоге с открываемым файлом.
<pre><code class="no-highlight">(setq backup-directory-alist `(("." . "~/.emacs_saves")))</code></pre> 

* Запуск в режиме сервера - очень полезно, если вы собираетесь открывать много окон Emacs или использовать Emacs в качестве основного текстового редактора. Добавляем в самое начало .emacs.
<pre><code class="no-highlight">(server-start)</code></pre>

* Интерактивный режим переключение буферов Emacs. Очень удобная и полезная вещь - при нажатии C-x b можно начинать вводить название буфера и редактор сам подскажет название нужного буфера.
<pre><code class="no-highlight">(iswitchb-mode 1)</code></pre>

Пока это всё, на что у меня хватило сил для описания. Настройки будут добавляться в моменты ослабления лени.


Расширения, которые я использую
======================

Опишу кратко расширения, которые я использую. Все они могут быть установлены из репозитория, указанного в начале данной статьи.

* __Auto-complete__ - удобное автодополнение, возможно написание своих словарей.

Для установки нужно в Emacs запустить установку пакета:

<pre><code class="no-highlight">M-x package-install</code></pre>
А затем ввести название пакета:

<pre><code class="no-highlight">auto-complete</code></pre>
И нажать Enter. Помните, что к вашим услугам в Emacs всегда имеется автодополнение. Помогает!

* __Org-mode__ - самый лучший органайзер\todo-лист, идет уже "в комплекте" с установленным Emacs. Ничего сравнимого по удобству для организации своей жизни вы не найдете нигде. Я использую его также для составления локальной базы знаний. Узнал что-нибудь - вноси в org-mode, запланировал что-нибудь - вноси в org-mode.

* __Robot-mode__ - помогает мне на работе. Подсветка синтаксиса при написании автотестов для использования в Robot Framework. Если вы по счастливой случайности используете Robot Framework, присмотритесь. Вместе с auto-complete данное расширение творит настоящие чудеса.

Загрузить Robot-mode можно [на Github](https://github.com/sakari/robot-mode). Скачиваем robot-mode.el, укладываем его, например, в каталог .emacs.d в домашнем каталоге пользователя и добавляем следующую строку в .emacs
<pre><code class="no-highlight">(load-file "~/.emacs.d/robot-mode.el")</code></pre>

В Emacs можно активировать robot-mode для текущего буфера командой
<pre><code class="no-highlight">M-x robot-mode</code></pre>

Чтобы активировать robot-mode по умолчанию, например для \*.txt файлов, в .emacs нужно добавить следующие строки.
<pre><code class="no-highlight">(add-to-list 'auto-mode-alist '("\\.txt\\'" . robot-mode))</code></pre>

Есть возможность поменять \*.txt на любое другое расширение. Я на работе использую \*.robot.

* __Perspective__ - аналог рабочих столов в Emacs. Переключаться между уже расположенными буферами с открытыми файлами. 

* __ECB__ - Emacs Code Browser. Удобный режим работы Emacs, при котором буферы располагаются как в каждой уважающей себя IDE. Удобная штука, но не очень хорошо работает одновременно с Perspective.
